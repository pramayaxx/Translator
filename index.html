<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Language Translator</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Bootstrap Icons CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            transition: all 0.3s ease;
        }
        
        body.dark {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        
        .dark .glass-card {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .translate-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            transition: all 0.3s ease;
            transform: translateY(0);
        }
        
        .translate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(238, 90, 36, 0.4);
        }
        
        .translate-btn:active {
            transform: translateY(0);
        }
        
        .language-select {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .language-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .dark .language-select {
            background: rgba(0, 0, 0, 0.3);
            color: white;
        }
        
        .text-area {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            resize: none;
        }
        
        .text-area:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .dark .text-area {
            background: rgba(0, 0, 0, 0.3);
            color: white;
        }
        
        .dark .text-area::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .loading-spinner {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .swap-btn {
            transition: all 0.3s ease;
        }
        
        .swap-btn:hover {
            transform: rotate(180deg);
        }
        
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        .typing-animation {
            border-right: 2px solid #667eea;
            animation: typing 2s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #667eea; }
        }
        
        .language-flag {
            width: 24px;
            height: 18px;
            border-radius: 2px;
            margin-right: 8px;
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .setup-notice {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <!-- Theme Toggle Button -->
    <button class="theme-toggle btn btn-sm rounded-circle p-2" onclick="toggleTheme()">
        <i class="bi bi-sun-fill text-white" id="theme-icon"></i>
    </button>
    
    <div class="container-fluid min-vh-100 d-flex align-items-center justify-content-center p-4">
        <div class="row w-100 justify-content-center">
            <div class="col-12 col-lg-10 col-xl-8">
                <!-- Header -->
                <div class="text-center mb-5 fade-in">
                    <h1 class="display-4 fw-bold text-white mb-3 pulse-animation">
                        <i class="bi bi-translate me-3"></i>
                        Universal Language Translator
                    </h1>
                    <p class="lead text-white-50 mb-0">
                        Break down language barriers with AI-powered translation
                    </p>
                </div>
                
                <!-- Setup Notice -->
                <div class="setup-notice rounded-4 p-4 mb-4 fade-in">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-info-circle-fill text-warning me-3 fs-4"></i>
                        <div>
                            <h5 class="text-white mb-2">Setup Required</h5>
                            <p class="text-white-50 mb-0">
                                To enable translation functionality, please add your Google Cloud Translation API credentials to the backend. 
                                The interface is fully functional and ready to use once credentials are configured.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Main Translation Card -->
                <div class="glass-card rounded-4 p-4 p-md-5 fade-in">
                    <!-- Language Selection -->
                    <div class="row mb-4">
                        <div class="col-12 col-md-5">
                            <label class="form-label text-white fw-semibold mb-2">
                                <i class="bi bi-flag me-2"></i>From Language
                            </label>
                            <select class="form-select language-select rounded-3 p-3" id="sourceLanguage">
                                <option value="auto">Auto-detect</option>
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="de">German</option>
                                <option value="it">Italian</option>
                                <option value="pt">Portuguese</option>
                                <option value="ru">Russian</option>
                                <option value="ja">Japanese</option>
                                <option value="ko">Korean</option>
                                <option value="zh">Chinese (Simplified)</option>
                                <option value="ar">Arabic</option>
                                <option value="hi">Hindi</option>
                                <option value="th">Thai</option>
                                <option value="vi">Vietnamese</option>
                                <option value="tr">Turkish</option>
                                <option value="pl">Polish</option>
                                <option value="nl">Dutch</option>
                                <option value="sv">Swedish</option>
                                <option value="da">Danish</option>
                                <option value="no">Norwegian</option>
                                <option value="fi">Finnish</option>
                                <option value="cs">Czech</option>
                                <option value="hu">Hungarian</option>
                                <option value="ro">Romanian</option>
                                <option value="bg">Bulgarian</option>
                                <option value="hr">Croatian</option>
                                <option value="sk">Slovak</option>
                                <option value="sl">Slovenian</option>
                                <option value="et">Estonian</option>
                                <option value="lv">Latvian</option>
                                <option value="lt">Lithuanian</option>
                                <option value="mt">Maltese</option>
                                <option value="ga">Irish</option>
                                <option value="cy">Welsh</option>
                                <option value="is">Icelandic</option>
                                <option value="mk">Macedonian</option>
                                <option value="sq">Albanian</option>
                                <option value="sr">Serbian</option>
                                <option value="bs">Bosnian</option>
                                <option value="me">Montenegrin</option>
                                <option value="si">Sinhala</option>
                                <option value="ta">Tamil</option>
                                <option value="te">Telugu</option>
                                <option value="kn">Kannada</option>
                                <option value="ml">Malayalam</option>
                                <option value="gu">Gujarati</option>
                                <option value="pa">Punjabi</option>
                                <option value="bn">Bengali</option>
                                <option value="ur">Urdu</option>
                                <option value="ne">Nepali</option>
                                <option value="my">Myanmar</option>
                                <option value="km">Khmer</option>
                                <option value="lo">Lao</option>
                                <option value="ka">Georgian</option>
                                <option value="am">Amharic</option>
                                <option value="sw">Swahili</option>
                                <option value="zu">Zulu</option>
                                <option value="af">Afrikaans</option>
                                <option value="he">Hebrew</option>
                                <option value="fa">Persian</option>
                                <option value="ms">Malay</option>
                                <option value="id">Indonesian</option>
                                <option value="tl">Filipino</option>
                            </select>
                        </div>
                        
                        <div class="col-12 col-md-2 d-flex align-items-end justify-content-center my-3 my-md-0">
                            <button class="btn btn-outline-light rounded-circle p-3 swap-btn" onclick="swapLanguages()">
                                <i class="bi bi-arrow-left-right"></i>
                            </button>
                        </div>
                        
                        <div class="col-12 col-md-5">
                            <label class="form-label text-white fw-semibold mb-2">
                                <i class="bi bi-flag-fill me-2"></i>To Language
                            </label>
                            <select class="form-select language-select rounded-3 p-3" id="targetLanguage">
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="de">German</option>
                                <option value="it">Italian</option>
                                <option value="pt">Portuguese</option>
                                <option value="ru">Russian</option>
                                <option value="ja">Japanese</option>
                                <option value="ko">Korean</option>
                                <option value="zh">Chinese (Simplified)</option>
                                <option value="ar">Arabic</option>
                                <option value="hi">Hindi</option>
                                <option value="th">Thai</option>
                                <option value="vi">Vietnamese</option>
                                <option value="tr">Turkish</option>
                                <option value="pl">Polish</option>
                                <option value="nl">Dutch</option>
                                <option value="sv">Swedish</option>
                                <option value="da">Danish</option>
                                <option value="no">Norwegian</option>
                                <option value="fi">Finnish</option>
                                <option value="cs">Czech</option>
                                <option value="hu">Hungarian</option>
                                <option value="ro">Romanian</option>
                                <option value="bg">Bulgarian</option>
                                <option value="hr">Croatian</option>
                                <option value="sk">Slovak</option>
                                <option value="sl">Slovenian</option>
                                <option value="et">Estonian</option>
                                <option value="lv">Latvian</option>
                                <option value="lt">Lithuanian</option>
                                <option value="mt">Maltese</option>
                                <option value="ga">Irish</option>
                                <option value="cy">Welsh</option>
                                <option value="is">Icelandic</option>
                                <option value="mk">Macedonian</option>
                                <option value="sq">Albanian</option>
                                <option value="sr">Serbian</option>
                                <option value="bs">Bosnian</option>
                                <option value="me">Montenegrin</option>
                                <option value="si">Sinhala</option>
                                <option value="ta">Tamil</option>
                                <option value="te">Telugu</option>
                                <option value="kn">Kannada</option>
                                <option value="ml">Malayalam</option>
                                <option value="gu">Gujarati</option>
                                <option value="pa">Punjabi</option>
                                <option value="bn">Bengali</option>
                                <option value="ur">Urdu</option>
                                <option value="ne">Nepali</option>
                                <option value="my">Myanmar</option>
                                <option value="km">Khmer</option>
                                <option value="lo">Lao</option>
                                <option value="ka">Georgian</option>
                                <option value="am">Amharic</option>
                                <option value="sw">Swahili</option>
                                <option value="zu">Zulu</option>
                                <option value="af">Afrikaans</option>
                                <option value="he">Hebrew</option>
                                <option value="fa">Persian</option>
                                <option value="ms">Malay</option>
                                <option value="id">Indonesian</option>
                                <option value="tl">Filipino</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Text Areas -->
                    <div class="row mb-4">
                        <div class="col-12 col-md-6 mb-3 mb-md-0">
                            <label class="form-label text-white fw-semibold mb-2">
                                <i class="bi bi-pencil-square me-2"></i>Enter text to translate
                            </label>
                            <div class="position-relative">
                                <textarea 
                                    class="form-control text-area rounded-3 p-3" 
                                    id="inputText" 
                                    rows="8" 
                                    placeholder="Type or paste your text here..."
                                    maxlength="5000"
                                ></textarea>
                                <button 
                                    class="btn btn-outline-light btn-sm position-absolute top-0 end-0 m-2" 
                                    onclick="toggleSpeechRecognition()"
                                    id="micBtn"
                                    title="Voice input"
                                >
                                    <i class="bi bi-mic"></i>
                                </button>
                            </div>
                            <small class="text-white-50 mt-1">
                                <span id="charCount">0</span>/5000 characters
                            </small>
                        </div>
                        
                        <div class="col-12 col-md-6">
                            <label class="form-label text-white fw-semibold mb-2">
                                <i class="bi bi-chat-quote me-2"></i>Translation
                            </label>
                            <div class="position-relative">
                                <textarea 
                                    class="form-control text-area rounded-3 p-3" 
                                    id="outputText" 
                                    rows="8" 
                                    placeholder="Translation will appear here..."
                                    readonly
                                ></textarea>
                                <button 
                                    class="btn btn-outline-light btn-sm position-absolute top-0 end-0 m-2" 
                                    onclick="speakTranslation()"
                                    id="speakBtn"
                                    title="Listen to translation"
                                >
                                    <i class="bi bi-volume-up"></i>
                                </button>
                            </div>
                            <div class="d-flex justify-content-between align-items-center mt-2">
                                <small class="text-white-50" id="detectedLanguage"></small>
                                <button class="btn btn-sm btn-outline-light rounded-pill" onclick="copyToClipboard()" id="copyBtn" style="display: none;">
                                    <i class="bi bi-clipboard me-1"></i>Copy
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Translate Button -->
                    <div class="text-center">
                        <button 
                            class="btn btn-lg translate-btn text-white fw-semibold px-5 py-3 rounded-pill border-0" 
                            onclick="translateText()"
                            id="translateBtn"
                        >
                            <i class="bi bi-translate me-2"></i>
                            <span id="btnText">Translate</span>
                        </button>
                    </div>
                    
                    <!-- Error Message -->
                    <div class="alert alert-danger rounded-3 mt-3" id="errorAlert" style="display: none;">
                        <i class="bi bi-exclamation-triangle me-2"></i>
                        <span id="errorMessage"></span>
                    </div>
                </div>
                
                <!-- Footer -->
                <div class="text-center mt-4 fade-in">
                    <p class="text-white-50 mb-0">
                        <i class="bi bi-google me-2"></i>
                        Powered by Google Cloud Translation API
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Configuration - Backend API URL
        const API_BASE_URL = 'https://zmhqivc56e36.manus.space/api';
        
        // Global variables
        let isTranslating = false;
        let isDarkMode = false;
        let recognition = null;
        let synthesis = window.speechSynthesis;
        let isListening = false;
        let isSpeaking = false;
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Character counter
            const inputText = document.getElementById('inputText');
            const charCount = document.getElementById('charCount');
            
            inputText.addEventListener('input', function() {
                charCount.textContent = this.value.length;
            });
            
            // Auto-resize textareas
            autoResizeTextarea(inputText);
            autoResizeTextarea(document.getElementById('outputText'));
            
            // Load saved theme preference
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                toggleTheme();
            }
            
            // Initialize speech recognition
            initializeSpeechRecognition();
        });
        
        // Initialize Speech Recognition
        function initializeSpeechRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.maxAlternatives = 1;
                
                recognition.onstart = function() {
                    isListening = true;
                    updateMicButton();
                };
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    document.getElementById('inputText').value = transcript;
                    document.getElementById('charCount').textContent = transcript.length;
                };
                
                recognition.onerror = function(event) {
                    console.error('Speech recognition error:', event.error);
                    showError('Speech recognition error: ' + event.error);
                    isListening = false;
                    updateMicButton();
                };
                
                recognition.onend = function() {
                    isListening = false;
                    updateMicButton();
                };
            }
        }
        
        // Start/Stop Speech Recognition
        function toggleSpeechRecognition() {
            if (!recognition) {
                showError('Speech recognition not supported in this browser.');
                return;
            }
            
            if (isListening) {
                recognition.stop();
            } else {
                const sourceLanguage = document.getElementById('sourceLanguage').value;
                if (sourceLanguage !== 'auto') {
                    recognition.lang = sourceLanguage;
                }
                recognition.start();
            }
        }
        
        // Update microphone button appearance
        function updateMicButton() {
            const micBtn = document.getElementById('micBtn');
            if (micBtn) {
                if (isListening) {
                    micBtn.innerHTML = '<i class="bi bi-mic-fill text-danger"></i>';
                    micBtn.classList.add('pulse-animation');
                } else {
                    micBtn.innerHTML = '<i class="bi bi-mic"></i>';
                    micBtn.classList.remove('pulse-animation');
                }
            }
        }
        
        // Text-to-Speech function
        function speakText(text, language = 'en') {
            if (!synthesis) {
                showError('Text-to-speech not supported in this browser.');
                return;
            }
            
            if (isSpeaking) {
                synthesis.cancel();
                isSpeaking = false;
                updateSpeakButton();
                return;
            }
            
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = language;
            utterance.rate = 0.9;
            utterance.pitch = 1;
            
            utterance.onstart = function() {
                isSpeaking = true;
                updateSpeakButton();
            };
            
            utterance.onend = function() {
                isSpeaking = false;
                updateSpeakButton();
            };
            
            utterance.onerror = function(event) {
                console.error('Speech synthesis error:', event.error);
                isSpeaking = false;
                updateSpeakButton();
            };
            
            synthesis.speak(utterance);
        }
        
        // Update speak button appearance
        function updateSpeakButton() {
            const speakBtn = document.getElementById('speakBtn');
            if (speakBtn) {
                if (isSpeaking) {
                    speakBtn.innerHTML = '<i class="bi bi-volume-up-fill text-primary"></i>';
                    speakBtn.classList.add('pulse-animation');
                } else {
                    speakBtn.innerHTML = '<i class="bi bi-volume-up"></i>';
                    speakBtn.classList.remove('pulse-animation');
                }
            }
        }
        
        // Speak translated text
        function speakTranslation() {
            const outputText = document.getElementById('outputText').value;
            const targetLanguage = document.getElementById('targetLanguage').value;
            
            if (!outputText.trim()) {
                showError('No translation to speak. Please translate some text first.');
                return;
            }
            
            speakText(outputText, targetLanguage);
        }
        
        // Auto-resize textarea function
        function autoResizeTextarea(textarea) {
            textarea.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = this.scrollHeight + 'px';
            });
        }
        
        // Theme toggle function
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            
            isDarkMode = !isDarkMode;
            
            if (isDarkMode) {
                body.classList.add('dark');
                themeIcon.className = 'bi bi-moon-fill text-white';
                localStorage.setItem('theme', 'dark');
            } else {
                body.classList.remove('dark');
                themeIcon.className = 'bi bi-sun-fill text-white';
                localStorage.setItem('theme', 'light');
            }
        }
        
        // Swap languages function
        function swapLanguages() {
            const sourceSelect = document.getElementById('sourceLanguage');
            const targetSelect = document.getElementById('targetLanguage');
            const inputText = document.getElementById('inputText');
            const outputText = document.getElementById('outputText');
            
            // Don't swap if source is auto-detect
            if (sourceSelect.value === 'auto') {
                return;
            }
            
            // Swap language selections
            const tempValue = sourceSelect.value;
            sourceSelect.value = targetSelect.value;
            targetSelect.value = tempValue;
            
            // Swap text content
            const tempText = inputText.value;
            inputText.value = outputText.value;
            outputText.value = tempText;
            
            // Update character count
            document.getElementById('charCount').textContent = inputText.value.length;
            
            // Clear detected language and copy button
            document.getElementById('detectedLanguage').textContent = '';
            document.getElementById('copyBtn').style.display = 'none';
        }
        
        // Main translation function
        async function translateText() {
            if (isTranslating) return;
            
            const inputText = document.getElementById('inputText').value.trim();
            const sourceLanguage = document.getElementById('sourceLanguage').value;
            const targetLanguage = document.getElementById('targetLanguage').value;
            const outputText = document.getElementById('outputText');
            const errorAlert = document.getElementById('errorAlert');
            const translateBtn = document.getElementById('translateBtn');
            const btnText = document.getElementById('btnText');
            const detectedLanguage = document.getElementById('detectedLanguage');
            const copyBtn = document.getElementById('copyBtn');
            
            // Validation
            if (!inputText) {
                showError('Please enter some text to translate.');
                return;
            }
            
            if (sourceLanguage === targetLanguage && sourceLanguage !== 'auto') {
                showError('Source and target languages cannot be the same.');
                return;
            }
            
            // Hide error alert
            errorAlert.style.display = 'none';
            
            // Show loading state
            isTranslating = true;
            translateBtn.disabled = true;
            btnText.innerHTML = '<i class="bi bi-arrow-repeat loading-spinner me-2"></i>Translating...';
            outputText.value = '';
            detectedLanguage.textContent = '';
            copyBtn.style.display = 'none';
            
            try {
                // Prepare request data
                const requestData = {
                    text: inputText,
                    target_language: targetLanguage
                };
                
                // Add source language if not auto-detect
                if (sourceLanguage !== 'auto') {
                    requestData.source_language = sourceLanguage;
                }
                
                // Make API request to our deployed Flask backend
                const response = await fetch(`${API_BASE_URL}/translate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestData)
                });
                
                const data = await response.json();
                
                if (!response.ok) {
                    // Show the setup message for missing credentials
                    if (data.error && data.error.includes('credentials')) {
                        showSetupMessage(data);
                    } else {
                        throw new Error(data.error || 'Translation failed');
                    }
                    return;
                }
                
                // Display results
                outputText.value = data.translated_text;
                
                // Show detected language if auto-detect was used
                if (data.detected_source_language && sourceLanguage === 'auto') {
                    const languageName = getLanguageName(data.detected_source_language);
                    detectedLanguage.textContent = `Detected: ${languageName}`;
                }
                
                // Show copy button
                copyBtn.style.display = 'inline-block';
                
                // Add fade-in animation to result
                outputText.classList.add('fade-in');
                setTimeout(() => outputText.classList.remove('fade-in'), 500);
                
            } catch (error) {
                console.error('Translation error:', error);
                showError(error.message || 'An error occurred during translation. Please try again.');
            } finally {
                // Reset loading state
                isTranslating = false;
                translateBtn.disabled = false;
                btnText.innerHTML = '<i class="bi bi-translate me-2"></i>Translate';
            }
        }
        
        // Show setup message for missing credentials
        function showSetupMessage(data) {
            const errorAlert = document.getElementById('errorAlert');
            const errorMessage = document.getElementById('errorMessage');
            
            let message = 'Google Cloud Translation API credentials are required. ';
            if (data.instructions) {
                message += data.instructions;
            }
            if (data.demo_translation) {
                message += ` ${data.demo_translation}`;
            }
            
            errorMessage.innerHTML = `
                <strong>Setup Required:</strong> ${message}
                <br><br>
                <small>
                    <strong>Steps to enable translation:</strong><br>
                    1. Get Google Cloud Translation API credentials<br>
                    2. Add them to the backend configuration<br>
                    3. The website will then provide real translations
                </small>
            `;
            errorAlert.style.display = 'block';
            errorAlert.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        // Show error message
        function showError(message) {
            const errorAlert = document.getElementById('errorAlert');
            const errorMessage = document.getElementById('errorMessage');
            
            errorMessage.textContent = message;
            errorAlert.style.display = 'block';
            errorAlert.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        // Copy to clipboard function
        async function copyToClipboard() {
            const outputText = document.getElementById('outputText');
            const copyBtn = document.getElementById('copyBtn');
            
            try {
                await navigator.clipboard.writeText(outputText.value);
                
                // Show success feedback
                const originalText = copyBtn.innerHTML;
                copyBtn.innerHTML = '<i class="bi bi-check me-1"></i>Copied!';
                copyBtn.classList.add('btn-success');
                copyBtn.classList.remove('btn-outline-light');
                
                setTimeout(() => {
                    copyBtn.innerHTML = originalText;
                    copyBtn.classList.remove('btn-success');
                    copyBtn.classList.add('btn-outline-light');
                }, 2000);
                
            } catch (error) {
                console.error('Copy failed:', error);
                showError('Failed to copy text to clipboard.');
            }
        }
        
        // Get language name from code
        function getLanguageName(code) {
            const languages = {
                'en': 'English',
                'es': 'Spanish',
                'fr': 'French',
                'de': 'German',
                'it': 'Italian',
                'pt': 'Portuguese',
                'ru': 'Russian',
                'ja': 'Japanese',
                'ko': 'Korean',
                'zh': 'Chinese',
                'ar': 'Arabic',
                'hi': 'Hindi',
                'th': 'Thai',
                'vi': 'Vietnamese',
                'tr': 'Turkish',
                'pl': 'Polish',
                'nl': 'Dutch',
                'sv': 'Swedish',
                'da': 'Danish',
                'no': 'Norwegian',
                'fi': 'Finnish',
                'cs': 'Czech',
                'hu': 'Hungarian',
                'ro': 'Romanian',
                'bg': 'Bulgarian',
                'hr': 'Croatian',
                'sk': 'Slovak',
                'sl': 'Slovenian',
                'et': 'Estonian',
                'lv': 'Latvian',
                'lt': 'Lithuanian',
                'mt': 'Maltese',
                'ga': 'Irish',
                'cy': 'Welsh',
                'is': 'Icelandic',
                'mk': 'Macedonian',
                'sq': 'Albanian',
                'sr': 'Serbian',
                'bs': 'Bosnian',
                'si': 'Sinhala',
                'ta': 'Tamil',
                'te': 'Telugu',
                'kn': 'Kannada',
                'ml': 'Malayalam',
                'gu': 'Gujarati',
                'pa': 'Punjabi',
                'bn': 'Bengali',
                'ur': 'Urdu',
                'ne': 'Nepali',
                'my': 'Myanmar',
                'km': 'Khmer',
                'lo': 'Lao',
                'ka': 'Georgian',
                'am': 'Amharic',
                'sw': 'Swahili',
                'zu': 'Zulu',
                'af': 'Afrikaans',
                'he': 'Hebrew',
                'fa': 'Persian',
                'ms': 'Malay',
                'id': 'Indonesian',
                'tl': 'Filipino'
            };
            
            return languages[code] || code.toUpperCase();
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            // Ctrl/Cmd + Enter to translate
            if ((event.ctrlKey || event.metaKey) && event.key === 'Enter') {
                event.preventDefault();
                translateText();
            }
            
            // Ctrl/Cmd + Shift + S to swap languages
            if ((event.ctrlKey || event.metaKey) && event.shiftKey && event.key === 'S') {
                event.preventDefault();
                swapLanguages();
            }
        });
        
        // Add some interactive animations
        document.querySelectorAll('.language-select, .text-area').forEach(element => {
            element.addEventListener('focus', function() {
                this.style.transform = 'scale(1.02)';
            });
            
            element.addEventListener('blur', function() {
                this.style.transform = 'scale(1)';
            });
        });
        
        // Add typing sound effect simulation (visual feedback)
        document.getElementById('inputText').addEventListener('input', function() {
            this.style.borderColor = '#667eea';
            setTimeout(() => {
                this.style.borderColor = 'transparent';
            }, 200);
        });
    </script>
</body>
</html>

